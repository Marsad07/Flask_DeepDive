<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <style>
        body {
        background-color: #FFFDD0; /* cream page background */
        }


        table{
            border: 2.5px solid black;
            border-collapse: collapse;
            border-color: #01796f;
            background-color: #CFB291;
        }
        th {
            background-color: #008080; /* teal headers */
            color: white;              /* white text for contrast */
            border: 2.5px solid #008080;
            padding: 8px;
        }

        td{
            background-color: #FFFDD0; /* cream cells */
            border: 2.5px solid #008080;
            padding: 8px;
        }

        button {
            background-color: #008080; /* teal buttons */
            color: white;
            border: none;
            padding: 6px 12px;
            cursor: pointer;
        }

        button:hover {
            background-color: #006666; /* darker teal on hover */
        }

        .myDiv{
            text-align: left;
        }
    </style>

    <meta charset="UTF-8">
    <title>Task Manager</title>
</head>
<body>

    <h1 style="text-align:center;">My Tasks <br><br><br></h1>


    <h1>Add Task</h1>
    <form method="POST" action="/add">
        Task Name: <input type="text" name="Task Name">
        <br><br>
        Task Description: <input type="text" name="Task Description">
        <button type="submit" name="Add Task" value="Add Task">Add Task</button>
    </form>
    <br><br><br><br>


    <h1>Active Tasks</h1>
    <table style="width:60%">
        <tr>
            <th>Task Number</th>
            <th>Task Name</th>
            <th>Task Description</th>
            <th>Action</th>
            <th>Added Date</th>
        </tr>
        {% for task in tasks %}
        <tr>
            <td>{{ task.id }}</td>
            <td>
                {{ task.task_name }}
                <a href="/edit/{{ task.id }}"  class="edit-icon">ðŸ–‰</a>
            </td>
            <td>
                {{ task.task_description }}
                <a href="/edit/{{ task.id }}" class="edit-icon">ðŸ–‰</a>
            </td>

            <td>

                <form method="POST" action="/complete">
                    <input type="checkbox" name="task_number" value="{{ task.id }}" onclick="this.form.submit()">
                </form>
            </td>
            <td>{{ task.added_date }}</td>
        </tr>
        {% endfor %}
    </table>
    <br><br>

    <div class="myDiv">
        <h1 style="display:inline-block;">Completed Tasks</h1>
        <form method="POST" action="/clear_completed" style="display:inline-block; margin-left-20px">
            <button type="submit">Clear Tasks</button>
        </form>
    </div>
    <table style="width:60%">
        <tr>
            <th>Task Name</th>
            <th>Task Description</th>
            <th>Date Completed</th>
        </tr>
        {% for task in completed_tasks %}
        <tr>
            <td>{{ task.task_name }}</td>
            <td>{{ task.task_description }}</td>
            <td>{{ task.completed_date }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>